<html>
<head><script src="//archive.org/includes/analytics.js?v=cf34f82" type="text/javascript"></script>
<script type="text/javascript">window.addEventListener('DOMContentLoaded',function(){var v=archive_analytics.values;v.service='wb';v.server_name='wwwb-app39.us.archive.org';v.server_ms=285;archive_analytics.send_pageview({});});</script><script type="text/javascript" src="/_static/js/playback.bundle.js?v=SOX25l-I" charset="utf-8"></script>
<script type="text/javascript" src="/_static/js/wombat.js?v=cRqOKCOw" charset="utf-8"></script>
<script type="text/javascript">
  __wm.init("http://web.archive.org/web");
  __wm.wombat("http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html","20131231025546","http://web.archive.org/","web","/_static/",
	      "1388458546");
</script>
<link rel="stylesheet" type="text/css" href="/_static/css/banner-styles.css?v=bsmaklHF" />
<link rel="stylesheet" type="text/css" href="/_static/css/iconochive.css?v=qtvMKcIJ" />
<!-- End Wayback Rewrite JS Include -->

<title>Write Yourself a Scheme in 48 hours</title>
<link rel="stylesheet" href="/web/20131231025546cs_/http://jonathan.tang.name/files/scheme_in_48/tutorial/styles.css"/>
</head>
<body><!-- BEGIN WAYBACK TOOLBAR INSERT -->
<style type="text/css">
body {
  margin-top:0 !important;
  padding-top:0 !important;
  /*min-width:800px !important;*/
}
</style>
<script>__wm.rw(0);</script>
<div id="wm-ipp-base" lang="en" style="display:none;direction:ltr;">
<div id="wm-ipp" style="position:fixed;left:0;top:0;right:0;">
<div id="wm-ipp-inside">
  <div style="position:relative;">
    <div id="wm-logo" style="float:left;width:110px;padding-top:12px;">
      <a href="/web/" title="Wayback Machine home page"><img src="/_static/images/toolbar/wayback-toolbar-logo-200.png" srcset="/_static/images/toolbar/wayback-toolbar-logo-100.png, /_static/images/toolbar/wayback-toolbar-logo-150.png 1.5x, /_static/images/toolbar/wayback-toolbar-logo-200.png 2x" alt="Wayback Machine" style="width:100px" border="0" /></a>
    </div>
    <div class="r" style="float:right;">
      <div id="wm-btns" style="text-align:right;height:25px;">
                  <div id="wm-save-snapshot-success">success</div>
          <div id="wm-save-snapshot-fail">fail</div>
          <a id="wm-save-snapshot-open" href="#"
	     title="Share via My Web Archive" >
            <span class="iconochive-web"></span>
          </a>
          <a href="https://archive.org/account/login.php"
             title="Sign In"
             id="wm-sign-in"
          >
            <span class="iconochive-person"></span>
          </a>
          <span id="wm-save-snapshot-in-progress" class="iconochive-web"></span>
        	<a href="http://faq.web.archive.org/" title="Get some help using the Wayback Machine" style="top:-6px;"><span class="iconochive-question" style="color:rgb(87,186,244);font-size:160%;"></span></a>
	<a id="wm-tb-close" href="#close" onclick="__wm.h(event);return false;" style="top:-2px;" title="Close the toolbar"><span class="iconochive-remove-circle" style="color:#888888;font-size:240%;"></span></a>
      </div>
      <div id="wm-share">
          <a href="/web/20131231025546/http://web.archive.org/screenshot/http://jonathan.tang.name/files/scheme_in_48/tutorial/conclusion.html"
             id="wm-screenshot"
             title="screenshot">
            <span class="wm-icon-screen-shot"></span>
          </a>
	<a id="wm-share-facebook" href="#" data-url="http://web.archive.org/web/20131231025546/http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html" title="Share on Facebook" style="margin-right:5px;" target="_blank"><span class="iconochive-facebook" style="color:#3b5998;font-size:160%;"></span></a>
	<a id="wm-share-twitter" href="#" data-url="http://web.archive.org/web/20131231025546/http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html" title="Share on Twitter" style="margin-right:5px;" target="_blank"><span class="iconochive-twitter" style="color:#1dcaff;font-size:160%;"></span></a>
      </div>
    </div>
    <table class="c" style="">
      <tbody>
	<tr>
	  <td class="u" colspan="2">
	    <form target="_top" method="get" action="/web/submit" name="wmtb" id="wmtb"><input type="text" name="url" id="wmtbURL" value="http://jonathan.tang.name/files/scheme_in_48/tutorial/conclusion.html" onfocus="this.focus();this.select();" /><input type="hidden" name="type" value="replay" /><input type="hidden" name="date" value="20131231025546" /><input type="submit" value="Go" /></form>
	  </td>
	  <td class="n" rowspan="2" style="width:110px;">
	    <table>
	      <tbody>
		<!-- NEXT/PREV MONTH NAV AND MONTH INDICATOR -->
		<tr class="m">
		  <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20131031084108/http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html" title="31 Oct 2013"><strong>Oct</strong></a></td>
		  <td class="c" id="displayMonthEl" title="You are here: 02:55:46 Dec 31, 2013">DEC</td>
		  <td class="f" nowrap="nowrap">Jan</td>
		</tr>
		<!-- NEXT/PREV CAPTURE NAV AND DAY OF MONTH INDICATOR -->
		<tr class="d">
		  <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20131031084108/http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html" title="08:41:08 Oct 31, 2013"><img src="/_static/images/toolbar/wm_tb_prv_on.png" alt="Previous capture" width="14" height="16" border="0" /></a></td>
		  <td class="c" id="displayDayEl" style="width:34px;font-size:24px;white-space:nowrap;" title="You are here: 02:55:46 Dec 31, 2013">31</td>
		  <td class="f" nowrap="nowrap"><img src="/_static/images/toolbar/wm_tb_nxt_off.png" alt="Next capture" width="14" height="16" border="0" /></td>
		</tr>
		<!-- NEXT/PREV YEAR NAV AND YEAR INDICATOR -->
		<tr class="y">
		  <td class="b" nowrap="nowrap"><a href="http://web.archive.org/web/20121121210240/http://jonathan.tang.name:80/files/scheme_in_48/tutorial/conclusion.html" title="21 Nov 2012"><strong>2012</strong></a></td>
		  <td class="c" id="displayYearEl" title="You are here: 02:55:46 Dec 31, 2013">2013</td>
		  <td class="f" nowrap="nowrap">2014</td>
		</tr>
	      </tbody>
	    </table>
	  </td>
	</tr>
	<tr>
	  <td class="s">
	    	    <div id="wm-nav-captures">
	      	      <a class="t" href="/web/20131231025546*/http://jonathan.tang.name/files/scheme_in_48/tutorial/conclusion.html" title="See a list of every capture for this URL">18 captures</a>
	      <div class="r" title="Timespan for captures of this URL">05 Sep 2009 - 31 Dec 2013</div>
	      </div>
	  </td>
	  <td class="k">
	    <a href="" id="wm-graph-anchor">
	      <div id="wm-ipp-sparkline" title="Explore captures for this URL" style="position: relative">
		<canvas id="wm-sparkline-canvas" width="650" height="27" border="0"></canvas>
	      </div>
	    </a>
	  </td>
	</tr>
      </tbody>
    </table>
    <div style="position:absolute;bottom:0;right:2px;text-align:right;">
      <a id="wm-expand" class="wm-btn wm-closed" href="#expand" onclick="__wm.ex(event);return false;"><span id="wm-expand-icon" class="iconochive-down-solid"></span> <span style="font-size:80%">About this capture</span></a>
    </div>
  </div>
    <div id="wm-capinfo" style="border-top:1px solid #777;display:none; overflow: hidden">
                    <div id="wm-capinfo-collected-by">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center">COLLECTED BY</div>
    <div style="padding:3px;position:relative" id="wm-collected-by-content">
            <div style="display:inline-block;vertical-align:top;width:50%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls);"></span>
		Organization: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
      <div style="display:inline-block;vertical-align:top;width:49%;">
			<span class="c-logo" style="background-image:url(https://archive.org/services/img/alexacrawls)"></span>
		<div>Collection: <a style="color:#33f;" href="https://archive.org/details/alexacrawls" target="_new"><span class="wm-title">Alexa Crawls</span></a></div>
		<div style="max-height:75px;overflow:hidden;position:relative;">
	  <div style="position:absolute;top:0;left:0;width:100%;height:75px;background:linear-gradient(to bottom,rgba(255,255,255,0) 0%,rgba(255,255,255,0) 90%,rgba(255,255,255,255) 100%);"></div>
	  Starting in 1996, <a href="http://www.alexa.com/">Alexa Internet</a> has been donating their crawl data to the Internet Archive.  Flowing in every day, these data are added to the <a href="http://web.archive.org/">Wayback Machine</a> after an embargo period.
	</div>
	      </div>
    </div>
    </div>
    <div id="wm-capinfo-timestamps">
    <div style="background-color:#666;color:#fff;font-weight:bold;text-align:center" title="Timestamps for the elements of this page">TIMESTAMPS</div>
    <div>
      <div id="wm-capresources" style="margin:0 5px 5px 5px;max-height:250px;overflow-y:scroll !important"></div>
      <div id="wm-capresources-loading" style="text-align:left;margin:0 20px 5px 5px;display:none"><img src="/_static/images/loading.gif" alt="loading" /></div>
    </div>
    </div>
  </div></div></div></div><div id="donato" style="position:relative;width:100%;">
  <div id="donato-base">
    <iframe id="donato-if" src="https://archive.org/includes/donate.php?as_page=1&amp;platform=wb&amp;referer=http%3A//web.archive.org/web/20131231025546/http%3A//jonathan.tang.name/files/scheme_in_48/tutorial/conclusion.html"
	    scrolling="no" frameborder="0" style="width:100%; height:100%">
    </iframe>
  </div>
</div><script type="text/javascript">
__wm.bt(650,27,25,2,"web","http://jonathan.tang.name/files/scheme_in_48/tutorial/conclusion.html","20131231025546",1996,"/_static/",["/_static/css/banner-styles.css?v=bsmaklHF","/_static/css/iconochive.css?v=qtvMKcIJ"]);
  __wm.rw(1);
</script>
<!-- END WAYBACK TOOLBAR INSERT -->
<h1 align="center">Write Yourself a Scheme in 48 Hours</h1>
<h2 align="center">A Haskell Tutorial</h2>
<h3 align="center">By Jonathan Tang</h3>
<center><p><a href="/web/20131231025546/http://jonathan.tang.name/files/scheme_in_48/scheme_in_48.tgz">Download in .tar.gz format</a><br/>
<a href="/web/20131231025546/http://jonathan.tang.name/files/scheme_in_48/scheme_in_48.zip">Download in .zip format</a></p></center>
<h3>Contents</h3>
<ol>
<li><a href="overview.html">Overview</a></li>
<li><a href="firststeps.html">First Steps: Compiling and running</a></li>
<li><a href="parser.html">Parsing</a></li>
<ol>
<li><a href="parser.html#symbols">A Simple Parser</a></li>
<li><a href="parser.html#whitespace">Whitespace</a></li>
<li><a href="parser.html#primitives">Literal Numbers and Strings: Return Values</a></li>
<li><a href="parser.html#lists">Lists, Dotted Lists, and Quoted Data: Recursive Parsers</a></li>
</ol>
<li><a href="evaluator1.html">Evaluation, Part 1</a></li>
<ol>
<li><a href="evaluator1.html#show">Displaying Values: Show and Typeclasses</a></li>
<li><a href="evaluator1.html#primitiveval">Evaluating Primitive Values: Pattern Matching</a></li>
<li><a href="evaluator1.html#primitivefunc">Evaluating Primitive Functions: First-class Functions</a></li>
</ol>
<li><a href="errorcheck.html">Intermezzo: Error Checking &amp; Exceptions</a></li>
<li><a href="evaluator2.html">Evaluation, Part 2</a></li>
<ol>
<li><a href="evaluator2.html#primitives">Additional Primitives: Partial Application</a></li>
<li><a href="evaluator2.html#conditionals">Conditionals: Pattern Matching 2</a></li>
<li><a href="evaluator2.html#lists">List Primitives: car, cdr, and cons</a></li>
<li><a href="evaluator2.html#equal">Equal? and Weak Typing: Heterogenous Lists</a></li>
</ol>
<li><a href="repl.html">Building a REPL: Basic I/O</a></li>
<li><a href="variables.html">Adding Variables and Assignment: Mutable State in Haskell</a></li>
<li><a href="functions.html">Defining Scheme Functions: Closures and Environments</a></li>
<li><a href="io.html">Creating IO Primitives: File I/O</a></li>
<li><a href="stdlib.html">Towards a Standard Library: Fold and Unfold</a></li>
<li>Conclusion &amp; Further Resources</li>
</ol>
<h3>12. Conclusion</h3>
<p>
You now have a working Scheme interpreter that implements a large chunk of the standard, including functions, lambdas, lexical scoping, symbols, strings, integers, list manipulation, and assignment.  You can use it interactively, with a REPL, or in batch mode, running script files.  You can write libraries of Scheme functions and either include them in programs or load them into the interactive interpreter.  With a little text processing via awk or sed, you can format the output of UNIX commands as parenthesized Lisp lists, read them into a Scheme program, and use this interpreter for shell scripting.
</p><p>
There're still a number of features you could add to this interpreter.  Hygienic macros let you perform transformations on the source code before it's executed.  They're a very convenient feature for adding new language features, and several standard parts of Scheme (such as let-bindings and additional control flow features) are defined in terms of them.  <a href="http://web.archive.org/web/20131231025546/http://www.schemers.org/Documents/Standards/R5RS/HTML/r5rs-Z-H-7.html#%_sec_4.3">Section 4.3</a> of R5RS defines the macro system's syntax and semantics, and there is a <a href="http://web.archive.org/web/20131231025546/http://library.readscheme.org/page3.html">whole collection</a> of papers on implementation.  Basically, you'd want to intersperse a function between <sic>readExpr</sic> and <sic>eval</sic> that takes a form and a macro environment, looks for transformer keywords, and then transforms them according to the rules of the pattern language, rewriting variables as necessarily.
</p><p>
Continuations are a way of capturing "the rest of the computation", saving it, and perhaps executing it more than once.  Using them, you can implement just about every control flow feature in every major programming language.  The easiest way to implement continuations is to transform the program into <a href="http://web.archive.org/web/20131231025546/http://library.readscheme.org/page6.html">continuation-passing style</a>, so that eval takes an additional continuation argument and calls it, instead of returning a result.  This parameter gets threaded through all recursive calls to eval, but only is only manipulated when evaluating a call to call-with-current-continuation.
</p><p>
Dynamic-wind could be implemented by keeping a stack of functions to execute when leaving the current continuation and storing (inside the continuation data type) a stack of functions to execute when resuming the continuation.
</p><p>
If you're just interested in learning more Haskell, there are a large number of libraries that may help:<ul>
<li>For webapps: <a href="http://web.archive.org/web/20131231025546/http://www.informatik.uni-freiburg.de/~thiemann/haskell/WASH/">WASH</a>, a monadic web framework</li>
<li>For databases: <a href="http://web.archive.org/web/20131231025546/http://haskelldb.sourceforge.net/">HaskellDB</a>, a library that wraps SQL as a set of Haskell functions, giving you all the type-safety of the language when querying the database</li>
<li>For GUI programming: <a href="http://web.archive.org/web/20131231025546/http://www.md.chalmers.se/Cs/Research/Functional/Fudgets/">Fudgets</a> and <a href="http://web.archive.org/web/20131231025546/http://wxhaskell.sourceforge.net/">wxHaskell</a>.  wxHaskell is more of a conventional MVC GUI library, while Fudgets includes a lot of new research about how to represent GUIs in functional programming languages</li>
<li>For concurrency: <a href="http://web.archive.org/web/20131231025546/http://www.haskell.org/ghc/docs/6.4/html/libraries/stm/Control.Concurrent.STM.html">Software Transactional Memory</a>, described in the paper <a href="http://web.archive.org/web/20131231025546/http://research.microsoft.com/~simonpj/papers/stm/stm.pdf">Composable Memory Transactions</a></li>
<li>For networking: GHC's <a href="http://web.archive.org/web/20131231025546/http://www.haskell.org/ghc/docs/6.4/html/libraries/network/Network.html">Networking libraries</a></li>
</ul>
This should give you a starting point for further investigations into the language.  Happy hacking!
</p>
<h3>Acknowledgements</h3>
<p>
Thanks to Ketil Malde, Pete Kazmier, and Brock for sending in questions and suggestions about this tutorial.  Additional comments, clarifications, and corrections can be sent to <a href="http://web.archive.org/web/20131231025546/mailto:jonathan.d.tang@gmail.com">jonathan.d.tang@gmail.com</a>.
</p>
<!--
     FILE ARCHIVED ON 02:55:46 Dec 31, 2013 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 09:42:09 Jan 11, 2021.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
-->
<!--
playback timings (ms):
  exclusion.robots.policy: 0.297
  LoadShardBlock: 120.116 (3)
  RedisCDXSource: 4.585
  exclusion.robots: 0.312
  CDXLines.iter: 20.218 (3)
  PetaboxLoader3.datanode: 155.781 (4)
  esindex: 0.011
  PetaboxLoader3.resolve: 69.263 (2)
  captures_list: 148.493
  load_resource: 127.446
-->